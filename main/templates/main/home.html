{% extends 'main/base.html' %} {% block title %}Home Page{% endblock %} 
{% block content %} 

<h1>Video de Webcam </h1>
{% comment %} <video id="webcam" autoplay></video> {% endcomment %}
{% comment %} <script>
    const videoElement = document.getElementById('webcam');
    navigator.mediaDevices.getUserMedia({ video: true })
        .then(stream => videoElement.srcObject = stream)
        .catch(error => console.error('Error accessing webcam:', error));
</script> {% endcomment %}

<iframe src="{% url 'webcam' %}" width="640" height="480"></iframe>

<div>  
  <button id="take-picture-btn">Tomar Foto</button>
</div>
<script>
  const btn = document.getElementById('take-picture-btn');
  btn.addEventListener('click', () => {
    fetch('/take_picture/')
      .then(response => response.text())
      .then(message => alert(message))
      .catch(error => console.error(error));
  });
</script>

<div>  
  <button id="upload-picture-btn">Subir Imagen</button>
</div>
<script>
  const btn = document.getElementById('upload-picture-btn');
  btn.addEventListener('click', () => {
    fetch('/take_picture/')
      .then(response => response.text())
      .then(message => alert(message))
      .catch(error => console.error(error));
  });
</script>


{% endblock %}